function CaptchaInit(){var t=$("[machine-verification]"),a=t.attr("machine-verification"),c=$("body");switch(window.captcha={},a){case"image":var i=$(".imagecaptcha");function e(t){$.ajax({url:_win.uri+"/action/captcha.php",data:{type:"image",id:t.attr("imagecaptcha-id")}}).done(function(a){t.html('<img alt="img code" src="'+a.img+'" class="">')})}i.each(function(){e($(this))}),c.on("click",".imagecaptcha",function(){e($(this))});break;case"slider":tbquire(["slidercaptcha"]);break;case"tcaptcha":var n=$("#TencentCaptcha.zib-tcaptcha"),h=t.attr("tcaptcha-id");n.length||c.append('<div class="hide zib-tcaptcha" id="TencentCaptcha" data-appid="'+h+'" data-cbfn="TCaptchaOK" data-biz-state=""></div>'),tbquire(["https://ssl.captcha.qq.com/TCaptcha.js"]);break;case"geetest":GeetestOpenInit(!1)}}function CaptchaOpen(t,a){switch(a){case"slider":tbquire(["slidercaptcha"],function(){SliderCaptchaModal("show",t)});break;case"geetest":window.captcha._this=t,GeetestOpenInit(!0);break;case"tcaptcha":TCaptchaOpen(t)}return!1}function TCaptchaOpen(t){window.captcha._this=t,tbquire(["https://ssl.captcha.qq.com/TCaptcha.js"],function(){$("#TencentCaptcha.zib-tcaptcha").click()})}function GeetestOpenInit(t){var a=$("[machine-verification]");window.GeetestCaptcha?t&&window.GeetestCaptcha.showCaptcha():a.length&&tbquire(["https://static.geetest.com/v4/gt4.js"],function(){initGeetest4({captchaId:a.attr("geetest-id"),product:"bind"},function(a){a.onReady(function(){window.GeetestCaptcha=a,t&&a.showCaptcha()}).onSuccess(function(t){var c=a.getValidate();window.captcha.captcha_output=c.captcha_output,window.captcha.gen_time=c.gen_time,window.captcha.lot_number=c.lot_number,window.captcha.ticket=c.pass_token,window.captcha._this.click()})})})}function TCaptchaOK(t){window.captcha.ticket=0,window.captcha.randstr=0,0===t.ret&&(window.captcha.ticket=t.ticket,window.captcha.randstr=t.randstr,window.captcha._this.click())}CaptchaInit();